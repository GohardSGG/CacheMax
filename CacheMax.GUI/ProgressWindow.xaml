<Window x:Class="CacheMax.GUI.ProgressWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="缓存初始化进度" Height="400" Width="600"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        ShowInTaskbar="False">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- 标题 -->
        <TextBlock Grid.Row="0" Text="正在初始化缓存..." FontSize="16" FontWeight="Bold" Margin="0,0,0,10"/>

        <!-- 当前操作 -->
        <TextBlock Grid.Row="1" Name="CurrentOperationText" Text="准备开始..." FontSize="12" Margin="0,0,0,10"/>

        <!-- 进度条 -->
        <ProgressBar Grid.Row="2" Name="ProgressBar" Height="20" Margin="0,0,0,10" IsIndeterminate="True"/>

        <!-- 详细日志 -->
        <Border Grid.Row="3" BorderBrush="Gray" BorderThickness="1" Margin="0,0,0,10">
            <ScrollViewer Name="LogScrollViewer" VerticalScrollBarVisibility="Auto">
                <TextBlock Name="LogTextBlock" Padding="5" FontFamily="Consolas" FontSize="10"
                          TextWrapping="Wrap" Background="Black" Foreground="LightGreen"/>
            </ScrollViewer>
        </Border>

        <!-- 按钮 -->
        <StackPanel Grid.Row="4" Orientation="Horizontal" HorizontalAlignment="Right">
            <Button Name="CancelButton" Content="取消" Width="80" Height="30" Margin="5,0,0,0" Click="CancelButton_Click"/>
            <Button Name="CloseButton" Content="关闭" Width="80" Height="30" Margin="5,0,0,0" Click="CloseButton_Click" IsEnabled="False"/>
        </StackPanel>
    </Grid>
</Window>